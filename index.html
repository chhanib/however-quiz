<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>'However' Usage Quiz</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f4f8;
            color: #333;
        }
        .quiz-container {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .question {
            margin-bottom: 20px;
            font-size: 18px;
            line-height: 1.6;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        label {
            font-size: 16px;
        }
        #statistics {
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>'However' Usage Quiz</h1>
        <p>Is the use of 'however' correct in the following sentences?</p>
        <div id="quiz-content">
            <div id="question-container"></div>
            <button id="prev-button" onclick="showPreviousQuestion()" style="display:none;">Previous</button>
            <button id="next-button" onclick="showNextQuestion()">Next</button>
            <button id="submit-button" onclick="submitQuiz()" style="display:none;">Submit</button>
        </div>
        <div id="result"></div>
        <div id="statistics"></div>
        <button id="showStats" style="display:none;" onclick="showStatistics()">Show Overall Statistics</button>
    </div>

    <script>
        const questions = [
            "Parliamentary elections were held three times over the period analysed â€“ in 2010, 2016, and 2020, however the role of elections was not mentioned as a factor in governmental decision-making for social protection.",
            "I would, however, like to stress that universal benefits are the only means of effectively reaching the poorest members of society.",
            "The Iraqi government provides in-service training for teachers, however there is no clear indication of the specific training or professional development available for teachers in disability inclusive education.",
            "However, the approach taken by UNICEF has resulted in a range of challenges.",
            "One parent explained that they were offered treatment overseas by the MoH, however they were unable to accept the offer as they could not afford to pay for passport fees and were therefore unable to travel.",
            "There is, however, nothing wrong with the overall design of the system.",
            "At the PHC level, surveillance services are also available which can support early diagnosis and access to treatments for the prevention of disabilities, however, this service is limited in its delivery and impact.",
            "I do not know whether the Government would, however, be interested in implementing a more inclusive old age pension.",
            "In the preceding two decades the Human Development Index (HDI) trended upwards, however the period of 2012-2021 has been marked by more or less stagnant HDI improvements"
        ];

        let currentQuestion = 0;
        const responses = new Array(questions.length).fill(null);

        function showQuestion(index) {
            const questionContainer = document.getElementById('question-container');
            questionContainer.innerHTML = `
                <div class="question">
                    <p>${index + 1}. ${questions[index]}</p>
                    <input type="radio" name="q${index}" value="correct" id="q${index}c" ${responses[index] === 'correct' ? 'checked' : ''}> <label for="q${index}c">Correct</label>
                    <input type="radio" name="q${index}" value="incorrect" id="q${index}i" ${responses[index] === 'incorrect' ? 'checked' : ''}> <label for="q${index}i">Incorrect</label>
                </div>
            `;

            document.getElementById('prev-button').style.display = index > 0 ? 'inline-block' : 'none';
            document.getElementById('next-button').style.display = index < questions.length - 1 ? 'inline-block' : 'none';
            document.getElementById('submit-button').style.display = index === questions.length - 1 ? 'inline-block' : 'none';
        }

        function showNextQuestion() {
            responses[currentQuestion] = document.querySelector(`input[name="q${currentQuestion}"]:checked`)?.value || null;
            currentQuestion++;
            showQuestion(currentQuestion);
        }

        function showPreviousQuestion() {
            responses[currentQuestion] = document.querySelector(`input[name="q${currentQuestion}"]:checked`)?.value || null;
            currentQuestion--;
            showQuestion(currentQuestion);
        }

        function submitQuiz() {
            responses[currentQuestion] = document.querySelector(`input[name="q${currentQuestion}"]:checked`)?.value || null;
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `Thank you for completing the quiz!`;

            // Save responses to local storage
            saveResponses(responses);

            // Show the statistics button
            document.getElementById('showStats').style.display = 'block';
        }

        function saveResponses(responses) {
            let allResponses = JSON.parse(localStorage.getItem('quizResponses')) || [];
            allResponses.push(responses);
            localStorage.setItem('quizResponses', JSON.stringify(allResponses));
        }

        function showStatistics() {
            const allResponses = JSON.parse(localStorage.getItem('quizResponses')) || [];
            const totalResponses = allResponses.length;
            const stats = questions.map(() => ({correct: 0, incorrect: 0}));

            allResponses.forEach(response => {
                response.forEach((answer, index) => {
                    if (answer === 'correct') stats[index].correct++;
                    if (answer === 'incorrect') stats[index].incorrect++;
                });
            });

            let statsHtml = `<h2>Overall Statistics (${totalResponses} responses)</h2>`;
            stats.forEach((stat, index) => {
                statsHtml += `
                    <p>Question ${index + 1}:</p>
                    <ul>
                        <li>Correct: ${stat.correct} (${((stat.correct / totalResponses) * 100).toFixed(2)}%)</li>
                        <li>Incorrect: ${stat.incorrect} (${((stat.incorrect / totalResponses) * 100).toFixed(2)}%)</li>
                    </ul>
                `;
            });

            document.getElementById('statistics').innerHTML = statsHtml;
        }

        // Initialize the quiz
        showQuestion(currentQuestion);
    </script>
</body>
</html>
